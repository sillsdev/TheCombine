[tox]
envlist =
    fmt-check
    lint
    mypy
skipsdist = true

[flake8]
max-line-length = 99
extend-ignore = E203
extend-exclude =
    venv

[testenv:mypy]
deps =
    -r{toxinidir}/dev-requirements.txt
commands =
    mypy certmgr/scripts docker_deploy/bin scripts

[testenv:lint]
deps =
    -r{toxinidir}/dev-requirements.txt
commands =
    flake8

[testenv:fmt]
deps =
    -r{toxinidir}/dev-requirements.txt
commands =
    isort .
    black .

[testenv:fmt-check]
deps =
    -r{toxinidir}/dev-requirements.txt
commands =
    isort --check-only .
    black --check .
