name: codecov_upload_frontend

on:
  workflow_run:
    workflows: [frontend]
    types: [completed]

permissions:
  contents: read

jobs:
  upload_coverage:
    runs-on: ubuntu-latest
    steps:
      - name: Download coverage artifact
        uses: actions/download-artifact@v3
        with:
          name: coverage-frontend
          path: clover.xml
      - name: Upload coverage report
        uses: codecov/codecov-action@eaaf4bedf32dbdc6b720b63067d99c4d77d6047d # v3.1.4
        with:
          files: clover.xml
          flags: frontend
          name: Frontend
