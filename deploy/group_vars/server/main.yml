---
################################################
# Group specific configuration items
#
# Group: server
################################################

# Frontend configuration items:
config_show_cert_expiration: false
config_analytics_write_key: "WoE6Qf2AeEUdQMQZBd0PpqSztHQYWRxj"

#################################################
# TheCombine is installed on the Live Server by TeamCity.  It will set the
# IMAGE_TAG environment variable to major.minor.build_no and launch
# Docker compose
image_tag: "{{ combine_version | default('${IMAGE_TAG}') }}"
################################################

combine_image_backend: "{{ aws_ecr }}/combine_backend:{{ image_tag }}"
combine_image_frontend: "{{ aws_ecr }}/combine_frontend:{{ image_tag }}"
combine_image_certmgr: "{{ aws_ecr }}/combine_certmgr:{{ image_tag }}"

################################################
# SSL cert variables specific to Server targets
################################################
cert_mode: "letsencrypt"
cert_email: "cert@thecombine.app"
combine_cert_proxy_list:
  - nuc2.thecombine.app
  - nuc1.thecombine.app

################################################
# setup variables for roles/aws_access
################################################
aws_user: "{{ combine_user }}"
aws_group: "{{ combine_group }}"

################################################
# AWS S3 storage configuration
################################################
aws_s3_loc: thecombine.app
aws_s3_backup_loc: "{{ aws_s3_loc }}/backups"
aws_s3_cert_loc: "{{ aws_s3_loc }}/certs"

# Live server accesses the following AWS services:
# S3:
#   - store SSL certificates for the NUCs
#   - store backups
# ECR:
#   - install container images
aws_s3_profile: s3_read_write
aws_ecr_profile: ecr_read_only

my_aws_profiles:
  - "{{ aws_s3_profile }}"
  - "{{ aws_ecr_profile }}"

# Define backup times (UTC)
backup_hour: "10"
backup_minute: "15"
# Maximum number of backups to keep on AWS S3 service
max_backups: "3"

################################################
# Configure Kubernetes cluster
################################################
k8s_components: []

image_pull_secret: aws-ecr-cred

app_namespace: thecombine

k8s_user: sillsdev
k8s_group: sillsdev

#######################################
# Ingress configuration
ingress_class: nginx

################################################
# WiFi access point settings
################################################
has_wifi: no
