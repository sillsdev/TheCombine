---
##############################################################
# Role: the_combine_source
#
# Install the source code for TheCombine so that the Docker
# containers can be built on the target systems for later
# deployment
##############################################################

# check to see if source code is installed
- name: check for existing source code
  stat:
    path: "{{ source_dir }}"
  register: combinestat

- name: get source code from GitHub
  git:
    repo: "https://github.com/sillsdev/TheCombine.git"
    dest: "{{ source_dir }}"
    clone: yes
    update: yes
    version: "{{ combine_source_version }}"
    track_submodules: yes
    force: yes
